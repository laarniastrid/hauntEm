<nav-top-dir></nav-top-dir>

<div class="page-content">

  <div class="user">
    <div class="people-actions">
      <div class="back">
        <a ui-sref="people">
        <i class="fa fa-chevron-left"></i>
        </a>
      </div>
      <div>
        <strong>{{personName}}</strong>
      </div>
    </div>
    <div class="add-new" ng-click="modalToggle()">
      <span>Add New</span>
      <i class="fa fa-plus"></i>
    </div>
  </div>

  <input class="actions-filter" placeholder="search messages:" type="text" ng-model="actionsFilter" />

  <div class="list">
    <div ng-repeat="action in list | orderBy: '-time' | filter: {message: actionsFilter}">
      <div list-dir class="item" ng-click="" >Message: {{action.message}} <br />Time sent: {{action.time | date: 'medium'}}</div>

    </div>
  </div>

</div>

<div class="modal" ng-if="showModal">
  <div class="modal-overlay" ng-click="modalToggle()"></div>
  <div class="modal-content">
    <i class="fa fa-times" ng-click="modalToggle()"></i>
    <div class="modal-content-wrapper">
      <h2>Send new message!</h2>
      <div ng-controller="mailCtrl">
        <form ng-submit="addAction(message); sendMessage(message)" class="modal-form">
          <textarea placeholder="message" ng-model="message" required></textarea>
          <button type="submit">Send Message</button>
        </form>
      </div>
    </div>
  </div>
</div>
